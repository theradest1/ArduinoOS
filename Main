#include <SPI.h>
#include <RA8875.h>
#include <EEPROM.h> 

#define RA8875_INT 4 
#define RA8875_CS 10 
#define RA8875_RESET 9

RA8875 tft = RA8875(RA8875_CS,RA8875_RESET);

int xValue = 0 ;
int yValue = 0 ; 
int xPin = A0;
int yPin = A1;
const int buzzer = A2;

int xRest = -510;
int yRest = -520;

float xMouse = 100;
float yMouse = 100;
float xMousePast = 100;
float yMousePast = 100;
float MouseSensitivity = .0007;

array array food[] = {{2, 4}, 8, 3, 6};

void setup() {
  Serial.begin(9600);

  tft.begin(RA8875_480x272);
  
  //tft.touchBegin(RA8875_INT);

  pinMode(xPin, INPUT); 
  pinMode(yPin, INPUT);
  pinMode(buzzer, OUTPUT);

  Serial.println("startUp");
}

void loop() {
  int i = abs(xValue + yValue);
  tone(buzzer, i);
  
  xValue = -1 * analogRead(xPin) - xRest;  
  yValue = -1 * analogRead(yPin) - yRest;  
  xMousePast = xMouse;
  yMousePast = yMouse;
  xMouse += xValue * MouseSensitivity;
  yMouse += yValue * MouseSensitivity; 
  xMouse = constrain(xMouse, 0, 500);
  yMouse = constrain(yMouse, 0, 300);
  //tft.fillCircle(xMousePast, yMousePast, 5, RA8875_BLACK);
  tft.fillCircle(xMouse, yMouse, 5, RA8875_WHITE);
  
  tft.changeMode(GRAPHIC);
}
      //else if(tx >= 190 && tx <= 250 && ty >= 10 && ty <= 70){
      //  openApp(190, 10, RA8875_BLUE);
      //  app = "ticket";
    }
    
    else{
      if(tx >= 10 && tx <= 40 && ty >= 231 && ty <= 261){
        Serial.println("close app");
        app = "none";
        homeScreen();
        Serial.println("exit");
      }
    }
  }
  //printTime(hh, mm, ss, size, x, y);
}
